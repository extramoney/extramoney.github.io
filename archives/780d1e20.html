<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">
<meta name="google-site-verification" content="2ENHO5ddmQrEQyGOO-96OnxndmeNNMHKfz_Ki7JH5PE" />









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-128x128-cloud.ico?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-cloud.ico?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-cloud.ico?v=5.1.3">


  <link rel="mask-icon" href="/images/filter-drama.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="面试,2017,Android," />





  <link rel="alternate" href="/atom.xml" title="小面包屑的博客" type="application/atom+xml" />






<meta name="description" content="题目是转的，然后自己补全部分答案 阿里巴巴LRUCache原理彻底解析Android缓存机制——LruCache - 简书把最近使用的对象用强引用存储到LinkedHashMap（数组+双向链表的数据结构实现）中。当缓存满时，把最近最少使用的对象从缓存中移除，并有get 和 put 方法完成缓存的获取和添加操作。  图片加载原理Fresco图片框架内部实现原理探索 - CSDN博客常用框架有 Fr">
<meta name="keywords" content="面试,2017,Android">
<meta property="og:type" content="article">
<meta property="og:title" content="2017下半年，一二线互联网公司Android面试题汇总">
<meta property="og:url" content="http://lethisis.com/archives/780d1e20.html">
<meta property="og:site_name" content="小面包屑的博客">
<meta property="og:description" content="题目是转的，然后自己补全部分答案 阿里巴巴LRUCache原理彻底解析Android缓存机制——LruCache - 简书把最近使用的对象用强引用存储到LinkedHashMap（数组+双向链表的数据结构实现）中。当缓存满时，把最近最少使用的对象从缓存中移除，并有get 和 put 方法完成缓存的获取和添加操作。  图片加载原理Fresco图片框架内部实现原理探索 - CSDN博客常用框架有 Fr">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-12-01T02:07:07.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="2017下半年，一二线互联网公司Android面试题汇总">
<meta name="twitter:description" content="题目是转的，然后自己补全部分答案 阿里巴巴LRUCache原理彻底解析Android缓存机制——LruCache - 简书把最近使用的对象用强引用存储到LinkedHashMap（数组+双向链表的数据结构实现）中。当缓存满时，把最近最少使用的对象从缓存中移除，并有get 和 put 方法完成缓存的获取和添加操作。  图片加载原理Fresco图片框架内部实现原理探索 - CSDN博客常用框架有 Fr">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://lethisis.com/archives/780d1e20.html"/>





  <title>2017下半年，一二线互联网公司Android面试题汇总 | 小面包屑的博客</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?5de538caff6efe3edec863f94acd055a";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">小面包屑的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Code & Life</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://lethisis.com/archives/780d1e20.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="小面包屑">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar_luwan.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小面包屑的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">2017下半年，一二线互联网公司Android面试题汇总</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-01T09:54:41+08:00">
                2017-12-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/android/" itemprop="url" rel="index">
                    <span itemprop="name">android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/archives/780d1e20.html" class="leancloud_visitors" data-flag-title="2017下半年，一二线互联网公司Android面试题汇总">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>题目是转的，然后自己补全部分答案</p>
<h1 id="阿里巴巴"><a href="#阿里巴巴" class="headerlink" title="阿里巴巴"></a>阿里巴巴</h1><h4 id="LRUCache原理"><a href="#LRUCache原理" class="headerlink" title="LRUCache原理"></a>LRUCache原理</h4><p><a href="http://www.jianshu.com/p/b49a111147ee" target="_blank" rel="external">彻底解析Android缓存机制——LruCache - 简书</a><br>把最近使用的对象用强引用存储到LinkedHashMap（数组+双向链表的数据结构实现）中。当缓存满时，把最近最少使用的对象从缓存中移除，并有get 和 put 方法完成缓存的获取和添加操作。</p>
<hr>
<h4 id="图片加载原理"><a href="#图片加载原理" class="headerlink" title="图片加载原理"></a>图片加载原理</h4><p><a href="http://blog.csdn.net/u010687392/article/details/50266633" target="_blank" rel="external">Fresco图片框架内部实现原理探索 - CSDN博客</a><br>常用框架有 Fresco , Glide, U- ImageLoader<br>通过在异步线程中回调图片的输入流，通过一系列的读取、写入、转化成EncodedImage , 再Decode成Bitmap , 通过Handler转给UI线程显示。通过IO操作存储在硬盘缓存目录下。</p>
<hr>
<h4 id="模块化实现（好处，原因）"><a href="#模块化实现（好处，原因）" class="headerlink" title="模块化实现（好处，原因）"></a>模块化实现（好处，原因）</h4><p><a href="http://blog.spinytech.com/2016/12/28/android_modularization/" target="_blank" rel="external">Android架构思考(模块化、多进程) | Spiny</a><br>组件化（模块化）<br>通过公用的路由，实现模块与模块之间的隔离。</p>
<p>原因： 随着业务的不断壮大，模块越来越多，相互之间的引用也越来越多，耦合越来越严重。<br><a id="more"></a><br>好处：，耦合度低 ，复用性强，并行开发</p>
<hr>
<h4 id="JVM"><a href="#JVM" class="headerlink" title="JVM"></a>JVM</h4><p><a href="https://juejin.im/entry/595f26816fb9a06ba2686c80" target="_blank" rel="external">你不得不了解的JVM（一） - Android - 掘金</a><br><a href="http://www.jianshu.com/p/d887e0a4794d" target="_blank" rel="external">Android面试之「JVM 篇 (上)」 - 简书</a></p>
<ol>
<li>JVM 存储</li>
</ol>
<ul>
<li><p>程序计数器<br>在每条线程中独立存在的一块内存，不与其他线程共享，所以这类内存叫「线程私有」的内存。</p>
</li>
<li><p>堆<br>细分为：新生代和老年代。存放对象实例，几乎所有的对象都在这分配内存。<br>Java 堆是线程共享的</p>
</li>
<li><p>方法区<br>存储已被虚拟机加载的类信息、常量、静态变量、即时编译器编译后的代码数据等。<br>方法区也常被人成为「永久代」<br>方法区是线程共享的。</p>
</li>
<li><p>java虚拟机栈(VM Stack)<br>Java 方法执行的内存模型。一个方法调用的过程就是一个栈帧从 VM 栈入栈到出栈的过程。</p>
</li>
</ul>
<p>VM 栈主要用于存储方法包含的信息：<br>局部变量表:<br>-基本数据类型(byte,short,int,long,float,double,boolean)<br>-引用类型(reference 类型，可能是指向一个对象起始地址的引用指针，或是指向另一个引用指针的引用)<br>-returnAddress 类型（我理解的是方法返回值类型）</p>
<p>VM 栈是线程私有的。</p>
<ul>
<li>本地方法栈(Native Method Stack)</li>
</ul>
<p>执行 Native 方法（JNI）的栈。<br>Native 栈是线程私有的。</p>
<ol>
<li><p>垃圾回收机制<br>::(待续)::</p>
</li>
<li><p>类加载<br>::（待续）::</p>
</li>
</ol>
<hr>
<h4 id="视频加密传输"><a href="#视频加密传输" class="headerlink" title="视频加密传输"></a>视频加密传输</h4><p><a href="http://imweb.io/topic/59819d7bf8b6c96352a593ff" target="_blank" rel="external">流媒体加密 - 腾讯Web前端 IMWeb 团队社区 | blog | 团队博客</a><br><a href="http://akagi201.org/post/http-flv-explained/" target="_blank" rel="external">直播协议 HTTP-FLV 详解 · Akagi201</a></p>
<p>常见加密技术：</p>
<ol>
<li>防盗链。通过验证才能访问没有加密的视频内容。</li>
<li>加密视频。获得加密的视频后，通过验证用户可以获取解密视频密钥。</li>
</ol>
<p>流媒体传输协议：</p>
<ol>
<li>HLS   基于HTTP协议的 MP4 分片传输</li>
<li>HTTP-FLV      基于HTTP协议FLV分块tag传输</li>
<li>RTMP    基于TCP，FLV分块message传输协议</li>
</ol>
<p>流媒体加密原理：<br>对每一小块的视频进行对称加密，服务端加密客户端解密，通过验证用户才能拿到视频解密密钥。</p>
<hr>
<h4 id="统计启动时长-标准"><a href="#统计启动时长-标准" class="headerlink" title="统计启动时长,标准"></a>统计启动时长,标准</h4><p><a href="http://www.cnblogs.com/deman/p/7711959.html" target="_blank" rel="external">android 统计启动时长，标准 - Joyfulmath - 博客园</a><br>冷启动 ：需要fork 一条进程，再启动activity<br>热启动 ：已经启动过application ,并且驻留在内存当中。</p>
<p>统计方法：</p>
<ol>
<li>通过高速相机。点击 - 看见activity的第一帧</li>
<li>Adb  命令统计  <code>adb shell am start -w pageage/activityname</code></li>
<li>线上版本统计</li>
</ol>
<p>冷启动： application. attachBaseContext() 作为startTime , 第一个activity的 onWindowFocusChanged 作为 endTime. (onResume还没看到画面）<br>流程：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">-&gt; Application 构造函数</div><div class="line">-&gt; Application.attachBaseContext()</div><div class="line">-&gt; Application.onCreate()</div><div class="line">-&gt; Activity 构造函数</div><div class="line">-&gt; Activity.setTheme()</div><div class="line">-&gt; Activity.onCreate()</div><div class="line">-&gt; Activity.onStart</div><div class="line">-&gt; Activity.onResume</div><div class="line">-&gt; Activity.onAttachedToWindow</div><div class="line">-&gt; Activity.onWindowFocusChanged</div></pre></td></tr></table></figure></p>
<p>热启动： activity的 onRestart 为 startTime , onWindowFocusChanged 为 endTime</p>
<hr>
<h4 id="如何保持应用的稳定性"><a href="#如何保持应用的稳定性" class="headerlink" title="如何保持应用的稳定性"></a>如何保持应用的稳定性</h4><p><a href="http://blog.csdn.net/wangxueming/article/details/55106078" target="_blank" rel="external">@@Android 稳定性研究 - CSDN博客</a></p>
<p>crash</p>
<ol>
<li>JavaCrash<br>注意： 异步操作 ，混淆 ， 机器版本的兼容性，api 部门间的沟通， crash后确保恢复 ， 热布丁，第三方log记录 ，内存问题</li>
<li>NativeCrash<br>c++层代码引起。<br>so文件，确保每一个CPU架构有对应版本，不缺失</li>
</ol>
<p>其他：<br>codereview  ,规范异常处理 ，单元测试</p>
<hr>
<h4 id="ThreadLocal-原理"><a href="#ThreadLocal-原理" class="headerlink" title="ThreadLocal 原理"></a>ThreadLocal 原理</h4><p><a href="http://blog.csdn.net/lovesomnus/article/details/64441426" target="_blank" rel="external">深入剖析ThreadLocal实现原理 - 说好的幸福呢        - CSDN博客</a><br><a href="http://allenwu.itscoder.com/threadlocal-source" target="_blank" rel="external">深入理解 Java 之 ThreadLocal 工作原理</a></p>
<p>可以看成是一个容器，里面装着当前线程的变量。<br>ThreadLocal 有一个内部类 ThreadLocalMap ，用键值对的形式存储每一个线程的变量副本，ThreadLocalMap中元素的key为当前ThreadLocal对象，而value对应线程的变量副本，每个线程可能存在多个ThreadLocal。</p>
<p>作用： 要保证线程安全，并不是一定就需要同步，同步只是保证共享数据征用时正确性的手段，如果一个方法本来就不涉及共享数据，那它就不需要任何同步措施去保证正确性。ThreadLocal的概念就是从这里引申出来的。</p>
<p>使用场景：<br>实现单个线程单例以及单个线程上下文信息存储，比如交易id等<br>实现线程安全，非线程安全的对象使用ThreadLocal之后就会变得线程安全，因为每个线程都会有一个对应的实例<br>承载一些线程相关的数据，避免在方法中来回传递参数</p>
<hr>
<h4 id="谈谈classloader"><a href="#谈谈classloader" class="headerlink" title="谈谈classloader"></a>谈谈classloader</h4><p><a href="http://geekmu.me/2017/05/21/Android%E6%8F%92%E4%BB%B6%E5%8C%96%EF%BC%88%E4%B8%80%EF%BC%89%E4%B9%8B%E8%B0%88%E8%B0%88ClassLoader/" target="_blank" rel="external">Android插件化（一）之谈谈ClassLoader | 鸿少爷的城</a><br>动态加载的基础是ClassLoader</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">ClassLoader classLoader = getClassLoader();  </div><div class="line">   <span class="keyword">if</span> (classLoader != <span class="keyword">null</span>) &#123;  </div><div class="line">       Log.i(TAG, <span class="string">"onCreate classLoader "</span> + i + <span class="string">" : "</span> + classLoader.toString());  </div><div class="line">       <span class="keyword">while</span> (classLoader.getParent() != <span class="keyword">null</span>) &#123;  </div><div class="line">           classLoader = classLoader.getParent();</div><div class="line">           i = i + <span class="number">1</span>;  </div><div class="line">           Log.i(TAG, <span class="string">"onCreate classLoader "</span> + i + <span class="string">" : "</span> + classLoader.toString());  </div><div class="line">       &#125;  </div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<p><a href="https://developer.android.com/reference/java/lang/ClassLoader.html" target="_blank" rel="external">ClassLoader | Android Developers</a>Android中类加载器有BootClassLoader,URLClassLoader,<br>PathClassLoader,DexClassLoader,BaseDexClassLoader 等</p>
<p>PathClassLoader是ClassLoader的一个简单实现，主要用于加载系统类和加载应用中的类。<br>DexClassLoader加载.jar或者apk里面的class.dex文件，可以从SD卡中加载未安装的apk。<br>动态加载的目的主要是用于插件化或者热更新功能，加载的代码必然也是未安装的，所以我们要用的就是DexClassLoader</p>
<hr>
<h4 id="动态布局"><a href="#动态布局" class="headerlink" title="动态布局"></a>动态布局</h4><ol>
<li>初始化控件。</li>
<li>根据root类型,new  LayoutParams ,  设置居中对齐、间隔等属性</li>
<li>addView  , 添加到容器当中。</li>
</ol>
<hr>
<h4 id="热修复-插件化"><a href="#热修复-插件化" class="headerlink" title="热修复,插件化"></a>热修复,插件化</h4><p><a href="http://blog.csdn.net/u012124438/article/details/62107035" target="_blank" rel="external">Android热修复学习之旅开篇——热修复概述 - CSDN博客</a><br><a href="http://www.infoq.com/cn/articles/Android-hot-fix" target="_blank" rel="external">Android热修复技术选型——三大流派解析</a><br><a href="https://my.oschina.net/kun123/blog/804424" target="_blank" rel="external">Android插件化：从入门到放弃 - 席道坤的个人空间</a></p>
<p>框架：<br>AndFix、Dexposed，腾讯QQ空间的超级补丁技术和微信的Tinker</p>
<p>热修复是插件化的基础上进行替换旧的BUG类。</p>
<p>热修复： 基于android dex分包</p>
<p>::（待续）::</p>
<hr>
<h4 id="HashMap源码-SpareArray原理"><a href="#HashMap源码-SpareArray原理" class="headerlink" title="HashMap源码,SpareArray原理"></a>HashMap源码,SpareArray原理</h4><p><a href="https://mp.weixin.qq.com/s/usbtl6mDBuv_ayzK16FHfQ" target="_blank" rel="external">什么是HashMap？</a><br><a href="http://www.importnew.com/21294.html" target="_blank" rel="external">HashMap的实现与优化 - ImportNew</a></p>
<p>Hash：是一种信息摘要算法，它还叫做<em>哈希，或者散列</em>。我们平时使用的MD5,SHA1,SSL中的公私钥验证都属于Hash算法，通过输入key进行Hash计算，就可以获取key的HashCode()，比如我们通过校验MD5来验证文件的完整性。<br>碰撞：好的Hash算法可以出计算几乎出独一无二的HashCode，如果出现了重复的hashCode，就称作碰撞;</p>
<p>HashMap是一个存储key-value键值对的集合。每一个键值对也称作 Entry 。这些键值对会分散存储到一个数组当中（无序），这个数组就是HashMap的主干。</p>
<p>HashMap数组每一个元素的初始值都是Null</p>
<p>最常用的两个方法是put和get 。<br><em>put方法</em><br>hashMap.put(“apple”, 0) ，插入一个Key为“apple”的元素。<br>利用哈希函数来确认Entry的插入位置(index)<br><code>index =  Hash（“apple”)</code><br>HashMap长度有限，当插入元素过多的时候就会发生碰撞。<br>当出现哈希冲突时采用开放链地址（<em>链表</em>）法进行处理。</p>
<p>HashMap数组中的每一个元素不止是一个Entry ， 还是一个链表头节点。每一个Entry对象通过Next指针指向它的下一个Entry节点。当新来的Entry映射到冲突的数组位置时，只需要插入到对应的链表即可（头插法）。</p>
<p><em>get方法</em><br>根据key 来查找value  。<br>首先根据key值，使用哈希函数确认Entry的位置。<br><code>index =  Hash（“apple”)</code></p>
<p>如果发生了哈希碰撞，同一个位置会匹配出多个Entry ，这时候就会顺应着链表头节点一个个往下查找。</p>
<p>HashMap的发明者认为，后插入的Entry被查找的可能性更大。所以put的时候使用了头插法。</p>
<p>HashMap初始长度为16（服务于key映射到index的哈希算法） ，自动扩展或者手动初始化的话，长度必须是2的幂。</p>
<p>如何进行位运算呢？有如下的公式（Length是HashMap的长度）：<br><code>index =  HashCode（Key） &amp;  （Length - 1）</code><br>这样就能HashMap数组里面的元素均匀分布。</p>
<p><em>SparseArray</em><br>SpareArray是映射Integer  -&gt; Object 类型<br>方法： put()  get()  remove()<br>原理：<br>首先通过二分查找去 key 数组中查找要插入的 key，返回index(索引) 。<br>存放key的数组是有序的.<br>有了该key，则直接覆盖原来的值。(因为key为int也就不需要什么hash值了，只要int值相等，那就是同一个对象)<br>如果当前要插入的 key 的索引上的值为DELETE，直接覆盖</p>
<hr>
<h4 id="性能优化-怎么保证应用启动不卡顿"><a href="#性能优化-怎么保证应用启动不卡顿" class="headerlink" title="性能优化,怎么保证应用启动不卡顿"></a>性能优化,怎么保证应用启动不卡顿</h4><p><a href="http://www.jianshu.com/p/f5514b1a826c" target="_blank" rel="external">Android性能优化（一）之启动加速35% - 简书</a></p>
<ul>
<li><p>利用提前展示出来的Window，快速展示出来一个界面，给用户快速反馈的体验；<br><em>利用主题，设置window的背景图</em></p>
</li>
<li><p>避免在启动时做密集沉重的初始化（Heavy app initialization）；<br><em>数据库及IO操作都移到工作线程，并且设置线程优先级为<strong>THREAD_PRIORITY_BACKGROUND</strong> （避免抢占主线程的资源）</em></p>
</li>
<li><p>定位问题：避免I/O操作、反序列化、网络操作、布局嵌套等。<br><em>流程梳理，避免首屏有过多的网络请求。如闪屏广告设为下次生效。</em></p>
</li>
</ul>
<hr>
<h4 id="怎么去除重复代码"><a href="#怎么去除重复代码" class="headerlink" title="怎么去除重复代码"></a>怎么去除重复代码</h4><p><a href="http://toughcoder.net/blog/2014/10/25/tricks-to-remove-duplicates/" target="_blank" rel="external">如何有效的减少重复的代码 - 稀有猿诉</a></p>
<ul>
<li>用include 、 viewstub 减少布局的重复</li>
<li>资源的指定多引用，不写死。 比如颜色，背景，字串，布局，ID，度量(dimen)，风格等等</li>
<li>抽象与封装</li>
<li>重构</li>
</ul>
<hr>
<h4 id="SP是进程同步的吗-有什么方法做到同步"><a href="#SP是进程同步的吗-有什么方法做到同步" class="headerlink" title="SP是进程同步的吗?有什么方法做到同步"></a>SP是进程同步的吗?有什么方法做到同步</h4><p><a href="http://extremej.itscoder.com/shared_preferences_source/" target="_blank" rel="external">对 SharedPreferences 再多一点了解 | Joe is a thin man</a><br><a href="https://juejin.im/entry/590833711b69e60058eb34b9" target="_blank" rel="external">SharedPreferences 多进程解决方案 - Android - 掘金</a></p>
<p>SP并不是进程同步的。进程间数据不能共享。<br>可以使用<strong>ContentProvider + SharedPreferences</strong> 进行数据共享。<br>onCreate() ，进行基本的Uri匹配类型初始化<br>update() ，数据的相关操作可以放进来<br>query() ，返回查询的数据</p>
<p>最后可以实现SharedPreferences接口，将ContentProvider的操作简单封装成 sharePreferences 使用一样 。</p>
<ul>
<li>commit() 是同步提交到内存后再同步提交到磁盘上，如果 commit() 之前还有没结束的异步任务（包括 apply() 的提交），就会一直阻塞到前面的提交都完成，才进行提交。</li>
<li>apply() 是立即提交到内存后异步提交到磁盘上。</li>
<li>commit() 有返回值，而 apply 没有返回值。</li>
<li>存在内存与磁盘数据不同步的情况，多进程共享需要注意数据安全。</li>
<li>SP 是可以注册监听的。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">onSharedPreferenceChanged</span><span class="params">(SharedPreferences sharedPreferences, String key)</span></span></div></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h4 id="介绍下SurfaceView"><a href="#介绍下SurfaceView" class="headerlink" title="介绍下SurfaceView"></a>介绍下SurfaceView</h4><p>屏幕<strong>16ms</strong>重绘一次，若view不能在16ms绘制完成，则会造成界面卡顿。Android提供了SurfaceView来解决这一问题</p>
<p>View和SurfaceView的区别:</p>
<ol>
<li>View适用于主动更新的情况，而SurfaceView则适用于被动更新的情况，比如频繁刷新界面。</li>
<li>View在主线程中对页面进行刷新，而SurfaceView则开启一个子线程来对页面进行刷新。</li>
<li>View在绘图时没有实现双缓冲机制，SurfaceView在底层机制中就实现了双缓冲机制。</li>
</ol>
<hr>
<h4 id="HashMap实现原理，ConcurrentHashMap-的实现原理"><a href="#HashMap实现原理，ConcurrentHashMap-的实现原理" class="headerlink" title="HashMap实现原理，ConcurrentHashMap 的实现原理"></a>HashMap实现原理，ConcurrentHashMap 的实现原理</h4><p><a href="http://www.infoq.com/cn/articles/ConcurrentHashMap" target="_blank" rel="external">聊聊并发（四）——深入分析ConcurrentHashMap</a></p>
<p><strong>HashMap</strong> 是一个键值对的集合。每一个键值对(Entry)会放到一个数据里面。put() 和 get()方法。<br>put(“key” , “value”)<br> index = Hash(“key”)   算出index位置, 讲value插入到该位置<br>每一个数组元素不仅仅是一个Entry ，还是一个链表头部，当出现冲突的时候，使用头插法插入</p>
<p><strong>ConcurrentHashMap</strong> 数据结构为一个 Segment 数组，Segment 的数据结构为 HashEntry 的数组，而 HashEntry 存的是我们的键值对，可以构成链表。<br><a href="https://res.infoq.com/articles/ConcurrentHashMap/zh/resources/2.jpg" target="_blank" rel="external">ConcurrentHashMap结构图</a></p>
<p>加锁操作是针对的 hash 值对应的某个 Segment，而不是整个 ConcurrentHashMap 。</p>
<p>ConcurrentHashMap 初始化长度是16位 。</p>
<p>put() ,   Segment 的索引定位 跟 HashEntry 的索引定位 算法是一样的，定位Segment使用的是元素的hashcode通过再哈希后得到的值的高位，而定位HashEntry直接使用的是再哈希后的值。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">hash &gt;&gt;&gt; segmentShift) &amp; segmentMask<span class="comment">//定位Segment所使用的hash算法</span></div><div class="line"><span class="keyword">int</span> index = hash &amp; (tab.length - <span class="number">1</span>);<span class="comment">// 定位HashEntry所使用的hash算法</span></div></pre></td></tr></table></figure></p>
<p>HashMap 和 ConcurrentHashMap  主要区别在线程安全、扩展性、同步之间的区别。<br>用于缓存的话， ConcurrentHashMap 是更好的选择，多线程读写操作的情况下更胜一筹。</p>
<hr>
<h4 id="BroadcastReceiver，LocalBroadcastReceiver-区别"><a href="#BroadcastReceiver，LocalBroadcastReceiver-区别" class="headerlink" title="BroadcastReceiver，LocalBroadcastReceiver 区别"></a>BroadcastReceiver，LocalBroadcastReceiver 区别</h4><p><a href="https://shaohui.me/2017/01/21/android-message-3-localBroadcast/" target="_blank" rel="external">Android事件传递三部曲：本地广播LocalBroadcastManager | 邵辉|CRR</a><br>BroadcastReceiver 可以实现进程间通信 ， 使用的时候需要考虑安全性，不能被滥用</p>
<p>LocalBroadcastReceiver 不能进程间通信，执行效率更高，不需要考虑安全性。</p>
<hr>
<h4 id="Bundle-机制"><a href="#Bundle-机制" class="headerlink" title="Bundle 机制"></a>Bundle 机制</h4><p><a href="http://www.jianshu.com/p/6e23037d6d20" target="_blank" rel="external">Android IPC机制(五):详解Bundle与“信使”——Messenger - 简书</a><br><a href="http://blog.csdn.net/ahence/article/details/51443722" target="_blank" rel="external">Bundle源码解析 - CSDN博客</a></p>
<p>Bundle : A mapping from String values to various Parcelable types.</p>
<p>Bundle继承自BaseBundle并实现了Cloneable和Parcelable两个接口 ，<br>支持进程间通信</p>
<p>Bundle之所以能<strong>以键值对的方式存储数据</strong>，实质上是因为它内部维护了一个<strong>ArrayMap</strong></p>
<p>put()<br>Bundle传递的是对象或对象数组时，必须实现Serializable 或Parcelable接口，因为进程间通信不支持java对象。</p>
<ul>
<li>JAVA中的Serialize机制是将对象转化为字节流存储在外部设备，在需要时重新生成对象(采用java反射机制)。主要用于外部设备保存对象状态，网络传输对象等场景。缺点是产生很多中间对象及造成一定的GC(垃圾回收)，简而言之Serialize更慢；</li>
<li>Android提供的Parcel机制是针对移动设备的轻量级高效对象序列化机制。整个过程均在内存进行，不涉及外部设备，反序列化时读取的就是原对象，而不会创建新对象。简单来说Parcel更快；不过它使用复杂。</li>
</ul>
<hr>
<h4 id="Handler-机制"><a href="#Handler-机制" class="headerlink" title="Handler 机制"></a>Handler 机制</h4><p><a href="http://www.jianshu.com/p/fc858849a497" target="_blank" rel="external">Android Handler机制完全解析 - 简书</a><br><a href="http://www.cnblogs.com/lao-liang/p/5108745.html" target="_blank" rel="external">Android子线程真的不能更新UI么 - LeoLiang - 博客园</a><br><a href="https://www.zhihu.com/question/19703357" target="_blank" rel="external">handler 机制的原理是什么？ - 知乎</a></p>
<ul>
<li>Message：消息，由MessageQueue统一队列，然后交由Handler处理。</li>
<li>MessageQueue：消息队列，用来存放Handler发送过来的Message，并且按照先入先出的规则执行。</li>
<li>Handler：处理者，负责发送和处理Message。</li>
<li>Looper：消息轮询器，不断的从MessageQqueue中抽取Message并执行。</li>
</ul>
<p>::（待续）::</p>
<hr>
<h4 id="android-事件传递机制"><a href="#android-事件传递机制" class="headerlink" title="android 事件传递机制"></a>android 事件传递机制</h4><p>::（待续）::</p>
<hr>
<h4 id="线程间操作-List"><a href="#线程间操作-List" class="headerlink" title="线程间操作 List"></a>线程间操作 List</h4><ul>
<li><p>// 用Collections.synchronizedList让list线程安全 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> List&lt;Long&gt; list = Collections.synchronizedList(<span class="keyword">new</span> ArrayList&lt;Long&gt;());</div></pre></td></tr></table></figure>
</li>
<li><p>直接用线程安全的Vector </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Vector&lt;Integer&gt; vectorList = <span class="keyword">new</span> Vector&lt;&gt;();</div></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h4 id="App启动流程，从点击桌面开始"><a href="#App启动流程，从点击桌面开始" class="headerlink" title="App启动流程，从点击桌面开始"></a>App启动流程，从点击桌面开始</h4><p><a href="http://www.jianshu.com/p/a5532ecc8377" target="_blank" rel="external">译Android Application启动流程分析 - 简书</a></p>
<p>冷启动：<br>Click Launcher -&gt;  Binder IPC call startActivity(intent)   -&gt; 启动 Activity Manager Service  -&gt;  创建进程 fork Zygote  , 实例化Activity Thread对象并返回新的进程pid -&gt;  ActivityThread随后依次调用Looper.prepareLoop()和Looper.loop()来开启消息循环 -&gt; 将进程跟application进行绑定 -&gt; 启动activity </p>
<hr>
<h4 id="动态加载"><a href="#动态加载" class="headerlink" title="动态加载"></a>动态加载</h4><p>插件化<br>DexClassLoader </p>
<p>::（待续）::</p>
<hr>
<h4 id="类加载器"><a href="#类加载器" class="headerlink" title="类加载器"></a>类加载器</h4><p>ClassLoader<br>::（待续）::</p>
<hr>
<h4 id="OSGI"><a href="#OSGI" class="headerlink" title="OSGI"></a>OSGI</h4><p><a href="https://www.cnblogs.com/jingmoxukong/p/4546947.html" target="_blank" rel="external">OSGi 基本原理 - 静默虚空 - 博客园</a><br>OSGi(Open Service Gateway Initiative) 面向Java的动态模型系统</p>
<ul>
<li>Module Layer：模块层主要涉及包及共享的代码；</li>
<li>Lifecycle Layer：生命周期层主要涉及Bundle的运行时生命周期管理；</li>
<li>Service Layer：服务层主要涉及模块之间的交互和通信。</li>
</ul>
<p>::（待续）::</p>
<hr>
<h4 id="Https请求慢的解决办法，DNS，携带数据，直接访问IP"><a href="#Https请求慢的解决办法，DNS，携带数据，直接访问IP" class="headerlink" title="Https请求慢的解决办法，DNS，携带数据，直接访问IP"></a>Https请求慢的解决办法，DNS，携带数据，直接访问IP</h4><ul>
<li>选择一个访问最快的DNS</li>
<li>一个包大概是1.5k左右，数据过大，rtt（ Round Trip Time  RTT = 当前时间 -  数据包中Timestamp选项的回显时间）次数相对就会增加。</li>
<li>直接使用IP， 减少域名解析这一步</li>
</ul>
<hr>
<h4 id="GC回收策略"><a href="#GC回收策略" class="headerlink" title="GC回收策略"></a>GC回收策略</h4><p>::（待续）::</p>
<hr>
<h4 id="画出-Android-的大体架构图"><a href="#画出-Android-的大体架构图" class="headerlink" title="画出 Android 的大体架构图"></a>画出 Android 的大体架构图</h4><p><a href="http://www.cnblogs.com/skynet/archive/2010/04/15/1712924.html" target="_blank" rel="external">Android开发之旅：android架构 - 吴秦 - 博客园</a></p>
<p>Gradle 插件</p>
<hr>
<h4 id="描述清点击-Android-Studio-的-build-按钮后发生了什么"><a href="#描述清点击-Android-Studio-的-build-按钮后发生了什么" class="headerlink" title="描述清点击 Android Studio 的 build 按钮后发生了什么"></a>描述清点击 Android Studio 的 build 按钮后发生了什么</h4><p><a href="http://blog.csdn.net/zheng548/article/details/54864765" target="_blank" rel="external">点击 Android Studio 的 build 按钮后发生了什么 - CSDN博客</a><br><a href="http://blog.csdn.net/yangxi_pekin/article/details/78612741" target="_blank" rel="external">点击 Android Studio 的 build 按钮后发生了什么(阿里巴巴) - CSDN博客</a></p>
<hr>
<h4 id="大体说清一个应用程序安装到手机上时发生了什么；"><a href="#大体说清一个应用程序安装到手机上时发生了什么；" class="headerlink" title="大体说清一个应用程序安装到手机上时发生了什么；"></a>大体说清一个应用程序安装到手机上时发生了什么；</h4><hr>
<h4 id="对-Dalvik、ART-虚拟机有基本的了解；"><a href="#对-Dalvik、ART-虚拟机有基本的了解；" class="headerlink" title="对 Dalvik、ART 虚拟机有基本的了解；"></a>对 Dalvik、ART 虚拟机有基本的了解；</h4><hr>
<p>Android 上的 Inter-Process-Communication 跨进程通信时如何工作的；<br>App 是如何沙箱化，为什么要这么做；<br>权限管理系统（底层的权限是如何进行 grant 的）<br>进程和 Application 的生命周期；<br>系统启动流程 Zygote进程 –&gt; SystemServer进程 –&gt; 各种系统服务 –&gt; 应用进程<br>recycleview listview 的区别,性能<br>排序，快速排序的实现<br>树：B+树的介绍<br>图：有向无环图的解释<br>TCP/UDP的区别<br>synchronized与Lock的区别<br>volatile<br>Java线程池<br>Java中对象的生命周期<br>类加载机制<br>双亲委派模型<br>Android事件分发机制<br>MVP模式<br>RxJava<br>抽象类和接口的区别<br>集合 Set实现 Hash 怎么防止碰撞<br>JVM 内存区域 开线程影响哪块内存<br>垃圾收集机制 对象创建，新生代与老年代<br>二叉树 深度遍历与广度遍历<br>B树、B+树<br>消息机制<br>进程调度<br>进程与线程<br>死锁<br>进程状态<br>JVM内存模型<br>并发集合了解哪些<br>ConCurrentHashMap实现<br>CAS介绍<br>开启线程的三种方式,run()和start()方法区别<br>线程池<br>常用数据结构简介<br>判断环（猜测应该是链表环）<br>排序，堆排序实现<br>链表反转</p>
<hr>
<h4 id="进程间通信方式"><a href="#进程间通信方式" class="headerlink" title="进程间通信方式"></a>进程间通信方式</h4><ol>
<li>通过Intent在Activity、Service或BroadcastReceiver间进行进程间通信，可通过Intent传递数据</li>
<li>AIDL方式</li>
<li>Messenger方式</li>
<li>利用ContentProvider</li>
<li>Socket方式</li>
<li>基于文件共享的方式</li>
</ol>
<hr>
<h4 id="什么是协程"><a href="#什么是协程" class="headerlink" title="什么是协程"></a>什么是协程</h4><p>我们知道多个线程相对独立，有自己的上下文，切换受系统控制；而协程也相对独立，有自己的上下文，但是其切换由自己控制，由当前协程切换到其他协程由当前协程来控制。</p>
<hr>
<h4 id="内存泄露是怎么回事"><a href="#内存泄露是怎么回事" class="headerlink" title="内存泄露是怎么回事"></a>内存泄露是怎么回事</h4><p>由忘记释放分配的内存导致的</p>
<p>程序计数器，引到了逻辑地址（虚地址）和物理地址及其映射关系</p>
<p>虚拟机中的程序计数器是Java运行时数据区中的一小块内存区域，但是它的功能和通常的程序计数器是类似的，它指向虚拟机正在执行字节码指令的地址。具体点儿说，当虚拟机执行的方法不是native的时，程序计数器指向虚拟机正在执行字节码指令的地址；当虚拟机执行的方法是native的时，程序计数器中的值是未定义的。另外，程序计数器是线程私有的，也就是说，每一个线程都拥有仅属于自己的程序计数器。</p>
<hr>
<h4 id="数组和链表的区别"><a href="#数组和链表的区别" class="headerlink" title="数组和链表的区别"></a>数组和链表的区别</h4><p>数组是将元素在内存中连续存放，由于每个元素占用内存相同，可以通过下标迅速访问数组中任何元素。但是如果要在数组中增加一个元素，需要移动大量元素，在内存中空出一个元素的空间，然后将要增加的元素放在其中。同样的道理，如果想删除一个元素，同样需要移动大量元素去填掉被移动的元素。如果应用需要快速访问数据，很少或不插入和删除元素，就应该用数组。</p>
<p>链表恰好相反，链表中的元素在内存中不是顺序存储的，而是通过存在元素中的指针联系到一起。比如：上一个元素有个指针指到下一个元素，以此类推，直到最后一个元素。如果要访问链表中一个元素，需要从第一个元素开始，一直找到需要的元素位置。但是增加和删除一个元素对于链表数据结构就非常简单了，只要修改元素中的指针就可以了。如果应用需要经常插入和删除元素你就需要用链表数据结构了。</p>
<hr>
<h1 id="腾讯"><a href="#腾讯" class="headerlink" title="腾讯"></a>腾讯</h1><p>synchronized用法<br>volatile用法<br>动态权限适配方案，权限组的概念<br>网络请求缓存处理，okhttp如何处理网络缓存的<br>图片加载库相关，bitmap如何处理大图，如一张30M的大图，如何预防OOM<br>进程保活<br>listview图片加载错乱的原理和解决方案<br>https相关，如何验证证书的合法性，https中哪里用了对称加密，哪里用了非对称加密，对加密算法（如RSA）等是否有了解</p>
<h4 id="2000万个整数，找出第五十大的数字？"><a href="#2000万个整数，找出第五十大的数字？" class="headerlink" title="2000万个整数，找出第五十大的数字？"></a>2000万个整数，找出第五十大的数字？</h4><p>冒泡、选择、建堆</p>
<h4 id="从网络加载一个10M的图片，说下注意事项"><a href="#从网络加载一个10M的图片，说下注意事项" class="headerlink" title="从网络加载一个10M的图片，说下注意事项"></a>从网络加载一个10M的图片，说下注意事项</h4><p>图片缓存、异常恢复、质量压缩</p>
<h4 id="自定义View注意事项"><a href="#自定义View注意事项" class="headerlink" title="自定义View注意事项"></a>自定义View注意事项</h4><p>渲染帧率、内存</p>
<h5 id="项目中常用的设计模式"><a href="#项目中常用的设计模式" class="headerlink" title="项目中常用的设计模式"></a>项目中常用的设计模式</h5><p>单例、观察者、适配器、建造者。。</p>
<hr>
<h1 id="滴滴"><a href="#滴滴" class="headerlink" title="滴滴"></a>滴滴</h1><p>MVP<br>广播（动态注册和静态注册区别，有序广播和标准广播）<br>service生命周期<br>handler实现机制（很多细节需要关注：如线程如何建立和退出消息循环等等）<br>多线程（关于AsyncTask缺陷引发的思考）<br>数据库数据迁移问题<br>设计模式相关（例如Android中哪里使用了观察者模式，单例模式相关）<br>x个苹果，一天只能吃一个、两个、或者三个，问多少天可以吃完<br>TCP与UDP区别与应用（三次握手和四次挥手）涉及到部分细节（如client如何确定自己发送的消息被server收到） HTTP相关 提到过Websocket 问了WebSocket相关以及与socket的区别<br>是否熟悉Android jni开发，jni如何调用java层代码<br>进程间通信的方式<br>java注解<br>计算一个view的嵌套层级<br>项目组件化的理解<br>多线程断点续传原理<br>Android系统为什么会设计ContentProvider，进程共享和线程安全问题<br>jvm相关<br>Android相关优化（如内存优化、网络优化、布局优化、电量优化、业务优化）<br>EventBus实现原理</p>
<hr>
<h1 id="美团"><a href="#美团" class="headerlink" title="美团"></a>美团</h1><p>static synchronized 方法的多线程访问和作用，同一个类里面两个synchronized方法，两个线程同时访问的问题<br>内部类和静态内部类和匿名内部类，以及项目中的应用<br>handler发消息给子线程，looper怎么启动<br>View事件传递<br>activity栈<br>封装view的时候怎么知道view的大小<br>arraylist和linkedlist的区别，以及应用场景<br>怎么启动service，service和activity怎么进行数据交互<br>下拉状态栏是不是影响activity的生命周期，如果在onStop的时候做了网络请求，onResume的时候怎么恢复<br>view渲染</p>
<hr>
<h2 id="今日头条"><a href="#今日头条" class="headerlink" title="今日头条"></a>今日头条</h2><p>数据结构中堆的概念，堆排序<br>死锁的概念，怎么避免死锁<br>ReentrantLock 、synchronized和volatile（n面）<br>HashMap<br>singleTask启动模式<br>用到的一些开源框架，介绍一个看过源码的，内部实现过程。<br>消息机制实现<br>ReentrantLock的内部实现<br>App启动崩溃异常捕捉<br>事件传递机制的介绍<br>ListView的优化<br>二叉树，给出根节点和目标节点，找出从根节点到目标节点的路径<br>模式MVP，MVC介绍<br>断点续传的实现<br>集合的接口和具体实现类，介绍<br>TreeMap具体实现<br>synchronized与ReentrantLock<br>手写生产者/消费者模式<br>逻辑地址与物理地址，为什么使用逻辑地址<br>一个无序，不重复数组，输出N个元素，使得N个元素的和相加为M，给出时间复杂度、空间复杂度。手写算法<br>.Android进程分类<br>前台切换到后台，然后再回到前台，Activity生命周期回调方法。弹出Dialog，生命值周期回调方法。<br>Activity的启动模式</p>
<hr>
<h1 id="爱奇艺"><a href="#爱奇艺" class="headerlink" title="爱奇艺"></a>爱奇艺</h1><p>RxJava的功能与原理实现<br>RecycleView的使用，原理，RecycleView优化<br>ANR的原因<br>四大组件<br>Service的开启方式<br>Activity与Service通信的方式<br>Activity之间的通信方式<br>HashMap的实现，与HashSet的区别<br>JVM内存模型，内存区域<br>Java中同步使用的关键字，死锁<br>MVP模式<br>Java设计模式，观察者模式<br>Activity与Fragment之间生命周期比较<br>广播的使用场景</p>
<hr>
<h1 id="百度"><a href="#百度" class="headerlink" title="百度"></a>百度</h1><p>Bitmap 使用时候注意什么？<br>Oom 是否可以try catch ？<br>内存泄露如何产生？<br>适配器模式，装饰者模式，外观模式的异同？<br>ANR 如何产生？<br>String buffer 与string builder 的区别？<br>如何保证线程安全？<br>java四中引用<br>Jni 用过么？<br>多进程场景遇见过么？<br>关于handler，在任何地方new handler 都是什么线程下<br>sqlite升级，增加字段的语句<br>bitmap recycler 相关<br>强引用置为null，会不会被回收？<br>glide 使用什么缓存？<br>Glide 内存缓存如何控制大小？<br>如何保证多线程读写文件的安全？</p>
<hr>
<h1 id="携程"><a href="#携程" class="headerlink" title="携程"></a>携程</h1><p>Activity启动模式<br>广播的使用方式，场景<br>App中唤醒其他进程的实现方式<br>AndroidManifest的作用与理解<br>List,Set,Map的区别<br>HashSet与HashMap怎么判断集合元素重复<br>Java中内存区域与垃圾回收机制<br>EventBus作用，实现方式，代替EventBus的方式<br>Android中开启摄像头的主要步骤</p>
<hr>
<h1 id="网易"><a href="#网易" class="headerlink" title="网易"></a>网易</h1><p>集合<br>concurrenthashmap<br>volatile<br>synchronized与Lock<br>Java线程池<br>wait/notify<br>NIO<br>垃圾收集器<br>Activity生命周期<br>AlertDialog,popupWindow,Activity区别</p>
<hr>
<h1 id="小米"><a href="#小米" class="headerlink" title="小米"></a>小米</h1><p>String 为什么要设计成不可变的？<br>fragment 各种情况下的生命周期<br>Activity 上有 Dialog 的时候按 home 键时的生命周期<br>横竖屏切换的时候，Activity 各种情况下的生命周期<br>Application 和 Activity 的 context 对象的区别<br>序列化的作用，以及 Android 两种序列化的区别。<br>List 和 Map 的实现方式以及存储方式。<br>静态内部类的设计意图。<br>线程如何关闭，以及如何防止线程的内存泄漏</p>
<hr>
<h1 id="360"><a href="#360" class="headerlink" title="360"></a>360</h1><p>软引用、弱引用区别<br>垃圾回收<br>多线程：怎么用、有什么问题要注意；Android线程有没有上限，然后提到线程池的上限<br>JVM<br>锁<br>OOM，内存泄漏<br>ANR怎么分析解决<br>LinearLayout、RelativeLayout、FrameLayout的特性、使用场景<br>如何实现Fragment的滑动<br>ViewPager使用细节，如何设置成每次只初始化当前的Fragment，其他的不初始化<br>ListView重用的是什么<br>进程间通信的机制<br>AIDL机制<br>AsyncTask机制<br>如何取消AsyncTask<br>序列化<br>Android为什么引入Parcelable<br>有没有尝试简化Parcelable的使用<br>AIDL机制<br>项目：拉活怎么做的<br>应用安装过程<br>某海外直播公司<br>线程和进程的区别？<br>为什么要有线程，而不是仅仅用进程？<br>算法判断单链表成环与否？<br>如何实现线程同步？<br>hashmap数据结构？<br>arraylist 与 linkedlist 异同？<br>object类的equal 和hashcode 方法重写，为什么？<br>hashmap如何put数据（从hashmap源码角度讲解）？<br>简述IPC？<br>fragment之间传递数据的方式？<br>简述tcp四次挥手?<br>threadlocal原理<br>内存泄漏的可能原因？<br>用IDE如何分析内存泄漏？<br>OOM的可能原因？<br>线程死锁的4个条件？<br>差值器&amp;估值器<br>简述消息机制相关<br>进程间通信方式？<br>Binder相关？<br>触摸事件的分发？<br>简述Activity启动全部过程？<br>okhttp源码？<br>RxJava简介及其源码解读？<br>性能优化如何分析systrace？<br>广播的分类？<br>点击事件被拦截，但是相传到下面的view，如何操作？<br>Glide源码？<br>ActicityThread相关？<br>volatile的原理<br>synchronize的原理<br>lock原理<br>翻转一个单项链表<br>string to integer<br>合并多个单有序链表（假设都是递增的）</p>
<hr>
<h1 id="其他公司"><a href="#其他公司" class="headerlink" title="其他公司"></a>其他公司</h1><p>四大组件<br>Android中数据存储方式<br>微信主页面的实现方式<br>微信上消息小红点的原理<br>两个不重复的数组集合中，求共同的元素。<br>上一问扩展，海量数据，内存中放不下，怎么求出。<br>Java中String的了解。<br>ArrayList与LinkedList区别<br>堆排序过程，时间复杂度，空间复杂度<br>快速排序的时间复杂度，空间复杂度<br>RxJava的作用，与平时使用的异步操作来比，优势<br>Android消息机制原理<br>Binder机制介绍<br>为什么不能在子线程更新UI<br>JVM内存模型<br>Android中进程内存的分配，能不能自己分配定额内存<br>垃圾回收机制与调用System.gc()区别<br>Android事件分发机制<br>断点续传的实现<br>RxJava的作用，优缺点</p>

      
    </div>
    
    
    
    <div>
      
        
<div style="text-align:center;color: #ccc;font-size:14px;">
------ 本文结束 感谢阅读------</div>
<br/>
<div>   
  <ul class="post-copyright" style="border-left:3px solid #ff1700;list-style:none;margin:2em 0 0;padding:0.5em 1em;background-color:#f9f9f9">
    <li class="post-copyright-author">
      <strong>本文作者：</strong>
      小面包屑
    </li>
    <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="http://lethisis.com/archives/780d1e20.html" title="2017下半年，一二线互联网公司Android面试题汇总">http://lethisis.com/archives/780d1e20.html</a>
    </li>
    <li class="post-copyright-license">
      <strong>声明： </strong>
      原创文章，有问题请评论中留言。支持友情链接。非商业转载请注明作者及出处。商业转载请联系作者本人。
    </li>
  </ul>
</div>

      
    </div>


    
      <div>
        <div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="/images/qrcode_for_gh_857b9a059fb9_258.jpg" alt="小面包屑 wechat" style="width: 200px; max-width: 100%;"/>
    <div>欢迎您扫一扫上面的微信公众号，订阅我的公众号！</div>
</div>

      </div>
    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/面试/" rel="tag"># 面试</a>
          
            <a href="/tags/2017/" rel="tag"># 2017</a>
          
            <a href="/tags/Android/" rel="tag"># Android</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/archives/7a9897da.html" rel="next" title="关于 android Webview">
                <i class="fa fa-chevron-left"></i> 关于 android Webview
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="SOHUCS"></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar_luwan.jpeg"
                alt="小面包屑" />
            
              <p class="site-author-name" itemprop="name">小面包屑</p>
              <p class="site-description motion-element" itemprop="description">就喜欢这样记录一下</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">25</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/extramoney" target="_blank" title="GitHub" rel="external nofollow">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="http://www.jianshu.com/u/7828c04ec9ca" target="_blank" title="简书" rel="external nofollow">
                    
                      <i class="fa fa-fw fa-link"></i>简书</a>
                </span>
              
            
          </div>

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#阿里巴巴"><span class="nav-number">1.</span> <span class="nav-text">阿里巴巴</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#LRUCache原理"><span class="nav-number">1.0.0.1.</span> <span class="nav-text">LRUCache原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#图片加载原理"><span class="nav-number">1.0.0.2.</span> <span class="nav-text">图片加载原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#模块化实现（好处，原因）"><span class="nav-number">1.0.0.3.</span> <span class="nav-text">模块化实现（好处，原因）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#JVM"><span class="nav-number">1.0.0.4.</span> <span class="nav-text">JVM</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#视频加密传输"><span class="nav-number">1.0.0.5.</span> <span class="nav-text">视频加密传输</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#统计启动时长-标准"><span class="nav-number">1.0.0.6.</span> <span class="nav-text">统计启动时长,标准</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#如何保持应用的稳定性"><span class="nav-number">1.0.0.7.</span> <span class="nav-text">如何保持应用的稳定性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ThreadLocal-原理"><span class="nav-number">1.0.0.8.</span> <span class="nav-text">ThreadLocal 原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#谈谈classloader"><span class="nav-number">1.0.0.9.</span> <span class="nav-text">谈谈classloader</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#动态布局"><span class="nav-number">1.0.0.10.</span> <span class="nav-text">动态布局</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#热修复-插件化"><span class="nav-number">1.0.0.11.</span> <span class="nav-text">热修复,插件化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#HashMap源码-SpareArray原理"><span class="nav-number">1.0.0.12.</span> <span class="nav-text">HashMap源码,SpareArray原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#性能优化-怎么保证应用启动不卡顿"><span class="nav-number">1.0.0.13.</span> <span class="nav-text">性能优化,怎么保证应用启动不卡顿</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#怎么去除重复代码"><span class="nav-number">1.0.0.14.</span> <span class="nav-text">怎么去除重复代码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SP是进程同步的吗-有什么方法做到同步"><span class="nav-number">1.0.0.15.</span> <span class="nav-text">SP是进程同步的吗?有什么方法做到同步</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#介绍下SurfaceView"><span class="nav-number">1.0.0.16.</span> <span class="nav-text">介绍下SurfaceView</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#HashMap实现原理，ConcurrentHashMap-的实现原理"><span class="nav-number">1.0.0.17.</span> <span class="nav-text">HashMap实现原理，ConcurrentHashMap 的实现原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#BroadcastReceiver，LocalBroadcastReceiver-区别"><span class="nav-number">1.0.0.18.</span> <span class="nav-text">BroadcastReceiver，LocalBroadcastReceiver 区别</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Bundle-机制"><span class="nav-number">1.0.0.19.</span> <span class="nav-text">Bundle 机制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Handler-机制"><span class="nav-number">1.0.0.20.</span> <span class="nav-text">Handler 机制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#android-事件传递机制"><span class="nav-number">1.0.0.21.</span> <span class="nav-text">android 事件传递机制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#线程间操作-List"><span class="nav-number">1.0.0.22.</span> <span class="nav-text">线程间操作 List</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#App启动流程，从点击桌面开始"><span class="nav-number">1.0.0.23.</span> <span class="nav-text">App启动流程，从点击桌面开始</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#动态加载"><span class="nav-number">1.0.0.24.</span> <span class="nav-text">动态加载</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#类加载器"><span class="nav-number">1.0.0.25.</span> <span class="nav-text">类加载器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#OSGI"><span class="nav-number">1.0.0.26.</span> <span class="nav-text">OSGI</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Https请求慢的解决办法，DNS，携带数据，直接访问IP"><span class="nav-number">1.0.0.27.</span> <span class="nav-text">Https请求慢的解决办法，DNS，携带数据，直接访问IP</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GC回收策略"><span class="nav-number">1.0.0.28.</span> <span class="nav-text">GC回收策略</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#画出-Android-的大体架构图"><span class="nav-number">1.0.0.29.</span> <span class="nav-text">画出 Android 的大体架构图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#描述清点击-Android-Studio-的-build-按钮后发生了什么"><span class="nav-number">1.0.0.30.</span> <span class="nav-text">描述清点击 Android Studio 的 build 按钮后发生了什么</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#大体说清一个应用程序安装到手机上时发生了什么；"><span class="nav-number">1.0.0.31.</span> <span class="nav-text">大体说清一个应用程序安装到手机上时发生了什么；</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#对-Dalvik、ART-虚拟机有基本的了解；"><span class="nav-number">1.0.0.32.</span> <span class="nav-text">对 Dalvik、ART 虚拟机有基本的了解；</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#进程间通信方式"><span class="nav-number">1.0.0.33.</span> <span class="nav-text">进程间通信方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#什么是协程"><span class="nav-number">1.0.0.34.</span> <span class="nav-text">什么是协程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#内存泄露是怎么回事"><span class="nav-number">1.0.0.35.</span> <span class="nav-text">内存泄露是怎么回事</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#数组和链表的区别"><span class="nav-number">1.0.0.36.</span> <span class="nav-text">数组和链表的区别</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#腾讯"><span class="nav-number">2.</span> <span class="nav-text">腾讯</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2000万个整数，找出第五十大的数字？"><span class="nav-number">2.0.0.1.</span> <span class="nav-text">2000万个整数，找出第五十大的数字？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#从网络加载一个10M的图片，说下注意事项"><span class="nav-number">2.0.0.2.</span> <span class="nav-text">从网络加载一个10M的图片，说下注意事项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#自定义View注意事项"><span class="nav-number">2.0.0.3.</span> <span class="nav-text">自定义View注意事项</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#项目中常用的设计模式"><span class="nav-number">2.0.0.3.1.</span> <span class="nav-text">项目中常用的设计模式</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#滴滴"><span class="nav-number">3.</span> <span class="nav-text">滴滴</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#美团"><span class="nav-number">4.</span> <span class="nav-text">美团</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#今日头条"><span class="nav-number">4.1.</span> <span class="nav-text">今日头条</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#爱奇艺"><span class="nav-number">5.</span> <span class="nav-text">爱奇艺</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#百度"><span class="nav-number">6.</span> <span class="nav-text">百度</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#携程"><span class="nav-number">7.</span> <span class="nav-text">携程</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#网易"><span class="nav-number">8.</span> <span class="nav-text">网易</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#小米"><span class="nav-number">9.</span> <span class="nav-text">小米</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#360"><span class="nav-number">10.</span> <span class="nav-text">360</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#其他公司"><span class="nav-number">11.</span> <span class="nav-text">其他公司</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">小面包屑</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io" rel="external nofollow">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next" rel="external nofollow">NexT.Mist</a> v5.1.3

<span class="post-meta-divider">|</span>
</div>


<div class="theme-info">
Hosted by <a href="https://pages.coding.me" style="font-weight: bold">Coding Pages</a>
</div>







<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("cMR2jxHtdxqiJIqjoizePELm-gzGzoHsz", "nXoySFNtF4zR5aibCOQgTgGW");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
